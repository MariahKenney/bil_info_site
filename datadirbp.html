<!DOCTYPE html>
<html class="no-js" lang="en">
    <head>
        <title>Brain Image Library: Data Directory Best Practices</title>
        <meta http-equiv="x-ua-compatible" content="ie=edge" />
	    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,800" />
        <link rel='stylesheet' href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
        <link rel="stylesheet" href="/css/bootstrap.css" />
        <link rel="stylesheet" href="/css/styles.css" />
        <link rel="stylesheet" href="/my.css" />
        <script src="/js/jquery.min.js"></script>
    </head>

    <body class="bg">
        <div class="container">
            <p>&nbsp;</p>
        </div>
    <div class="container">
    <!--Navigation bar-->
    <div id="topmenu">
    </div>
    <script>
        $(function(){
          $("#topmenu").load("menu.html");
        });
    </script>
    <!--end of Navigation bar-->
    <div class="jumbotron">
<p>This document outlines a few recommended practices to structure your data directories 
  for submission to the Brain Image Library If you have questions on how to structure 
  your data uploads for a modality not covered, please contact the help desk 
  (bil-support@psc.edu).</p>
	    <H3>General File Cleanup</H3>
	    Be aware that there may be operating system created hidden files transferred 
	    along with your data that should be removed from the BIL landing-zone directory 
	    prior to making your data public. These files include: 
	    <blockquote>
		<ul>
		 	<li><b>.DS_Store</b> -- An Apple macOS file   
			(for more information see: <a href="https://en.wikipedia.org/wiki/.DS_Store">https://en.wikipedia.org/wiki/.DS_Store</a>)</li>
		    	<li><b>Thumbs.db</b> -- A Microsoft Windows file  
			(for more information see <a href="https://en.wikipedia.org/wiki/Windows_thumbnail_cache">https://en.wikipedia.org/wiki/Windows_thumbnail_cache</a>)</li>
	    </ul></blockquote>
	    <H3>Avoid problematic special characters:</h3>
	    Use characters that are generally safe in your filenames.  Avoid special characters in filenames that can be problematic on a unix/linux system.
	    <blockquote>
		    <b>Characters that are generally safe to include in filenames</b>
		    <ul>
			<li>Underscore <span class="badge bg-success text-dark">&lowbar;</span></li>
		    	<li>Dash <span class="badge bg-success text-light">-</span> <button type="button" class="btn btn-success btn-sm">-</button></li> 
		    	<li>Period <button type="button" class="btn btn-success btn-sm">.</button></li>
		    	<li>Lower-case letters <button type="button" class="btn btn-success btn-sm">a-z</button></li>
		    	<li>Upper-case letters <button type="button" class="btn btn-success btn-sm">A-Z</button></li>
		    	<li>Numbers <button type="button" class="btn btn-success btn-sm">0-9</button></li>
		    </ul>
		    <b>Special characters that can be problematic</b>
		    <ul>
			    <li>Space <button type="button" class="btn btn-warning btn-sm">&nbsp;</button></li> 
			    <li>Ampersand <button type="button" class="btn btn-warning btn-sm">&amp;</button> </li>
			    <li>Slash <button type="button" class="btn btn-warning btn-sm">/</button> </li>
			    <li>Vertical bar <button type="button" class="btn btn-warning btn-sm">|</button> </li>
			    <li>Colon <button type="button" class="btn btn-warning btn-sm">:</button> </li>
			    <li>Semicolon <button type="button" class="btn btn-warning btn-sm">;</button> </li>
			    <li>Greater-than <button type="button" class="btn btn-warning btn-sm">&gt;</button> </li>
			    <li>Less-than <button type="button" class="btn btn-warning btn-sm">&lt;</button> </li>
			    <li>Question <button type="button" class="btn btn-warning btn-sm">?</button> </li>
			    <li>Asteric <button type="button" class="btn btn-warning btn-sm">*</button></li>
		    </ul>
	    </dl></blockquote>
	    
<h3>Whole brain datasets containing lower-level data</h3>
<p>To tie metadata to an image dataset (a stack of z-planes), each image dataset must be 
   uploaded in a separate subdirectory. For example, if you had an experiment containing
   5 mouse datasets (with sample names of mouse1, mouse2, mouse3, mouse4, mouse5) that
   you wanted to to include as a single submission collection, you would create 5 subdirectories
   in the landing zone for the submission collection, one for each mouse dataset. e.g:
	    </p>
<pre>
/bil/lz/testuser/abcdef0123456789/mouse1
/bil/lz/testuser/abcdef0123456789/mouse2
/bil/lz/testuser/abcdef0123456789/mouse3
/bil/lz/testuser/abcdef0123456789/mouse4
/bil/lz/testuser/abcdef0123456789/mouse5
</pre>
<p>If you have additional metadata that you want to include, place it in a subdirectory 
called <i>extras</i>:</p>
<pre>
/bil/lz/testuser/abcdef0123456789/mouse1/extras
</pre>
<p>If processed data will also be included, use subdirectories to indicate these different 
procesing levels. Recommended subdirectory names to use would be: <i>raw</i>, 
<i>unstitched</i>, <i>stitched</i>, <i>aligned</i>, and <i>tracings</i>.  (You may also
use otherdescriptive subdirectory names to segregate different processing levels if needed)
For example if stitched data, data aligned to the Allen reference) were included with mouse1:</p>
<pre>
/bil/lz/testuser/abcdef0123456789/mouse1/stitched
/bil/lz/testuser/abcdef0123456789/mouse1/aligned
</pre>
<p>&nbsp;</p>	    
<h3>Whole brain datasets containing only higher-level data</h3>
<p>It is not unusual to make lower-level image data available before the higher-level 
analysis is complete. In this case, use the same sample name as the prior BIL submission and 
a subdirectory to indicate the level of procesing. For example, If SWC tracing files were 
provided for mouse1 above at a later date:  
	    </p>
	    <pre>
/bil/lz/testuser/fef9236f6400b832/mouse1/tracings
</pre>
<p>Note that you would need to create a new submission collection to submit this data at a later date.
</p>
<p>&nbsp;</p>	    
<h3>Spatial transcriptomic datasets</h3>
<p>We recommend that spatial transcriptomic data contains both the raw and processed image 
   data as well as the processed csvs. Please submit your image data using the following directory structure: </p>
<pre>
/bil/lz/testuser/abcdef0123456789/mouse1/raw/mouse1_sample1
/bil/lz/testuser/abcdef0123456789/mouse1/raw/mouse1_sample2
/bil/lz/testuser/abcdef0123456789/mouse1/raw/mouse2_sample1
/bil/lz/testuser/abcdef0123456789/mouse1/raw/mouse2_sample2
/bil/lz/testuser/abcdef0123456789/mouse1/processed/mouse1_sample1
/bil/lz/testuser/abcdef0123456789/mouse1/processed/mouse1_sample2
/bil/lz/testuser/abcdef0123456789/mouse1/processed/mouse2_sample1
/bil/lz/testuser/abcdef0123456789/mouse1/processed/mouse2_sample2
</pre>
<p>Place your experiment-wide processed data as csv files in a subdirectory 
called <i>processed</i>:</p>
<pre>
/bil/lz/testuser/abcdef0123456789/processed
</pre>	    	    
<p>If you have additional metadata that you want to include, place it in a subdirectory 
called <i>extras</i> along with any other notes that you want to include about the data:</p>
<pre>
/bil/lz/testuser/abcdef0123456789/extras
</pre>	    
	    

    </div>
</div>
    <!--begin of bottomfooter -->
    <div id="bottomfooter">
    </div>
    <script>
        $(function(){
          $("#bottomfooter").load("footer.html");
        });
    </script>
    <!--end of bottomfooter-->


        <script src="/js/jquery.min.js"></script>
        <script src="/js/popper.min.js"></script>
        <script src="/js/bootstrap.min.js"></script>
    </body>
</html>
